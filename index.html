<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="keywords" content="Java,服务器,小流氓,游戏,页游,手游" />
    <meta name="description" content="Noark2是一个游戏服务器端框架，可快速开发出易维护、高性能、高扩展能力的游戏服务。Noark2的目标：稳定、高性能、可扩展、提高开发效率" />

    <link href="http://cdn.bootcss.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://cdn.bootcss.com/highlight.js/8.9.1/styles/solarized_dark.min.css" rel="stylesheet">
    <link href="/assets/css/basic.css" rel="stylesheet">
    <link href="/assets/css/style.css" rel="stylesheet">
    <title>小流氓的博客</title>
</head>
<style type="text/css">
    h1,h2,h3 {
        font-size: 22px;
    }
    ul li {
        list-style: none;
    }
</style>
<body style="zoom: 1;">


<div class="sidebar">

    <div class="logo-title">
        <div class="title animated fadeInDown">
            <img src="/assets/avatar.gif" style="width:127px;border-radius: 50%;">
            <hgroup>
                <h1 class="header-author"><a href="http://blog.noark.xyz/">小流氓</a></h1>
            </hgroup>

            <div class="description animated fadeInDown">
                <p>一边开车，一边换轮子</p>
            </div>
        </div>
    </div>
    <ul class="social-links animated fadeInDown">
        <li><a href="https://git.oschina.net/xiaoe"><i class="fa fa-git"></i></a>
        </li>
		<li><a href="mailto:176543888@qq.com"><i class="fa fa-envelope"></i></a>
        </li>		
    </ul>

    <div class="footer">
        
        分类：

        

            <span>
                <a href="/category/Noark%e5%85%a5%e9%97%a8">
                    Noark入门
                </a>&nbsp;
            </span>

        

            <span>
                <a href="/category/%e5%90%8e%e5%8f%b0%e5%bc%80%e5%8f%91">
                    后台开发
                </a>&nbsp;
            </span>

        

            <span>
                <a href="/category/%e6%b8%b8%e6%88%8f%e5%ae%89%e5%85%a8">
                    游戏安全
                </a>&nbsp;
            </span>

        

            <span>
                <a href="/category/%e6%b8%b8%e6%88%8f%e5%bc%80%e5%8f%91">
                    游戏开发
                </a>&nbsp;
            </span>

        

            <span>
                <a href="/category/%e8%81%8c%e4%b8%9a%e6%8a%80%e8%83%bd">
                    职业技能
                </a>&nbsp;
            </span>

        

            <span>
                <a href="/category/%e8%bf%90%e7%bb%b4%e7%9f%a5%e8%af%86">
                    运维知识
                </a>&nbsp;
            </span>

        

    </div>
</div>



<div class="main">      

    <div class="page-top animated fadeInDown">
        <div class="nav">
            <li><a href="/">博客首页</a>
            </li>
            <li><a href="/archive">文章归档</a>
            </li>
            <li><a href="/about.html">关于作者</a>
            </li>
        </div>
        <div class="information">
            <div class="back_btn">
            </div>
            <div class="avatar"><img src="/assets/avatar.gif">
            </div>
        </div>
    </div>

    <div class="autopagerize_page_element">
        <div class="content">

            

<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/9/1/%e5%8f%91%e5%b8%83maven%e4%b8%ad%e5%a4%ae%e4%bb%93%e5%ba%93%e5%b0%8f%e8%ae%b0/">发布Maven中央仓库小记</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <p>记录一下发布Noark到Maven中央仓库过程</p>

<h3>0x00创建Jira工单</h3>

<p><a href="https://issues.sonatype.org/secure/Dashboard.jspa">https://issues.sonatype.org/secure/Dashboard.jspa</a></p>

<p>第一步注册账号，创建工单，就是提个单子说明一下你要发布的信息</p>

<p>其中有个GroupID要注意，如果是自己买的域名，直接在描述证明一下你对这个域名的所有权，不要因为这个浪费时间</p>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-09-01</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/%e8%81%8c%e4%b8%9a%e6%8a%80%e8%83%bd">职业技能</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Gradle">Gradle</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/8/1/noark%e5%85%a5%e9%97%a8%e4%b9%8b%e5%86%85%e5%ad%98%e7%9b%91%e6%8e%a7/">Noark入门之内存监控</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <p>服务器正常都需要关注内存使用情况</p>

<p>常规获取内存使用情况可以使用Runtime或MemoryMXBean</p>

<p>Noark提供了一个内存监控服务，选择了Runtime实现，详情参考<br />
xyz.noark.game.monitor.impl.MemoryMonitorService</p>

<p>在GameServerConfiguration类中添加如下代码<br />
@Bean</p>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-08-01</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/Noark%e5%85%a5%e9%97%a8">Noark入门</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Noark">Noark</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/7/15/noark%e5%85%a5%e9%97%a8%e4%b9%8b%e6%b3%a8%e5%85%a5%e6%96%b9%e5%bc%8f/">Noark入门之注入方式</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <h3>普通类注入</h3>

<p>只要是被IOC容器接管的类可以当作属性注入.</p>

<p>@Autowired<br />
private VipService vipService;</p>

<h3>接口注入</h3>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-07-15</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/Noark%e5%85%a5%e9%97%a8">Noark入门</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Noark">Noark</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/6/2/noark%e5%85%a5%e9%97%a8%e4%b9%8b%e7%bd%91%e7%bb%9c%e5%b0%81%e5%8c%85%e6%97%a5%e5%bf%97%e8%be%93%e5%87%ba/">Noark入门之网络封包日志输出</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <p>新项目开始时，有时候为了调试封包协议，则会一个字节一字节的核对</p>

<p>有时候也会出现，服务器说你没发，客户端说我发了你没收到&hellip;</p>

<p>公司有高手时，则会使用一个工具来抓包分析，比如WPE，Wireshark等等</p>

<p>网络封包不同于Http抓包，上手还是有些难度的，所以我搞了一个配置直接开启封包日志输出</p>

<p>配置文件中添加如下配置</p>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-06-02</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/Noark%e5%85%a5%e9%97%a8">Noark入门</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Noark">Noark</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/6/1/noark%e5%85%a5%e9%97%a8%e4%b9%8bwebsocket/">Noark入门之WebSocket</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <h3>支持WebSocket吗？</h3>

<p>你还在为H5的前端链接头疼吗？你还在了解WebSocket的握手协议吗？WebSocket有没有粘包概念啊？</p>

<p>之前忘了说了，很不好意思，Noark在原来Tcp端口上实现了WebSocket协议的判定与处理，实现了Socket与WebSocket共存的效果</p>

<p>还记得Socket链接服务器那一串暗号吗？那之前是为Flash游戏留的安全沙箱策略文件准备的，分析了一下WebSocket判定也是可以实现的</p>

<h3>天生的WebSocket</h3>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-06-01</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/Noark%e5%85%a5%e9%97%a8">Noark入门</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Noark">Noark</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/5/21/noark%e5%85%a5%e9%97%a8%e4%b9%8b%e5%bc%82%e6%ad%a5%e4%ba%8b%e4%bb%b6/">Noark入门之异步事件</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <p>引入异步事件主要是为了各模块的解耦，每当完成一个动作时，向系统发布一个事件，由关心的模块自己监听处理，可选择同步处理，异步处理，延迟处理。</p>

<p>何时发布事件，当其他模块关心此动作时<br><br />
比如击杀一只怪物，成就模块需要统计击杀进度，便可监听怪物死亡事件。<br />
比如获得道具时，任务系统模块要判定完成进度，BI模块需要上报等等都可以监听此事件，已达模块解耦</p>

<h3>0x00事件源</h3>

<p>一个实现xyz.noark.core.event.Event接口的实现类</p>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-05-21</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/Noark%e5%85%a5%e9%97%a8">Noark入门</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Noark">Noark</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/5/20/noark%e5%85%a5%e9%97%a8%e4%b9%8b%e5%8d%8f%e8%ae%ae%e6%98%a0%e5%b0%84/">Noark入门之协议映射</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <h3>0x00消息控制器</h3>

<p>消息控制器，主要作用就是为每个模块提供消息处理的入口.</p>

<p>这里的消息不仅仅是协议，还有内部指令，事件等等逻辑入口，这也是为了响应线程模型作出的一种支撑，只要入口在此消息控制器内，那必然走期望的线程调度。</p>

<p>@Controller用于标识一个类为当前模块的消息控制器入口.<br />
@Controller(threadGroup = ExecThreadGroup.PlayerThreadGroup)<br />
public class MailController {</p>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-05-20</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/Noark%e5%85%a5%e9%97%a8">Noark入门</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Noark">Noark</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/5/1/noark%e5%85%a5%e9%97%a8%e4%b9%8b%e7%ba%bf%e7%a8%8b%e6%a8%a1%e5%9e%8b/">Noark入门之线程模型</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <h3>0x00单线程</h3>

<p>多进程单线程与单进程多线程的目的都是想尽可能的利用CPU，减少CPU的空闲时间，特别是多核环境，今天咱不做深度解读，跳过&hellip;</p>

<h3>0x01线程池+锁</h3>

<p>最早的一部分游戏服务器是采用线程池的方式来处理玩家的业务请求，以达最大限度的利用多核优势来提高处理业务能力。</p>

<p>但线程池同时也带来了并发问题，为了解决同一玩家多个业务请求不被并发，引入了锁的方式，每个Session一把锁，锁住业务处理逻辑，从而解决同步问题</p>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-05-01</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/Noark%e5%85%a5%e9%97%a8">Noark入门</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Noark">Noark</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2018/4/1/noark%e5%85%a5%e9%97%a8%e4%b9%8b%e6%9e%81%e9%80%9f%e4%bd%93%e9%aa%8c/">Noark入门之极速体验</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <p>官方网站 <a href="http://www.noark.xyz">www.noark.xyz</a></p>

<h3>简介</h3>

<p>Noark是一个游戏服务器端框架，可快速开发出一个易维护、易扩展且稳定高能的游戏服务器，让开发者专注于逻辑功能的开发。<br />
Noark也是从业多年的经验积累而产生的游戏服务器端框架，实现了协议映射，业务处理，模板加载，数据存储，异步事件，延迟任务，内部指令等功能模块，从而达到了松散耦合的效果，提高了系统的可重用性、可维护性以及可扩展性。<br />
精心设计过的它大大简化了网络编程和多线程编程，还有很多改良版的工具类库，他就是为了解决开发中那些重复劳动而产生的框架。</p>

<p><strong>优点：</strong></p>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2018-04-01</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/Noark%e5%85%a5%e9%97%a8">Noark入门</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Java">Java</a>&nbsp;
                
                <a href="/tag/Noark">Noark</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>


<div class="post animated fadeInDown">
    <div class="post-title">
        <h3><a style="color: #FF6600" href="/article/2017/12/4/%e9%98%bf%e9%87%8c%e4%ba%91centos7%e6%8c%82%e8%bd%bd%e4%ba%91%e7%9b%98/">阿里云CentOS7挂载云盘</a>
        </h3>
    </div>
    <div class="post-content">
        <div class="p_part">
            <p>刚买的阿里云机器，是不会自动挂载高效云盘的，需要手工处理.</p>

<h3>1.查看云盘</h3>

<p>[root@xxx ~]# fdisk -l</p>

<p>Disk /dev/vda: 53.7 GB, 53687091200 bytes, 104857600 sectors<br />
Units = sectors of 1 * 512 = 512 bytes<br />
Sector size (logical/physical): 512 bytes / 512 bytes<br />
I/O size (minimum/optimal): 512 bytes / 512 bytes</p>

        </div>
    </div>
    <div class="post-footer">
        <div class="meta">
            <div class="info">
                <i class="fa fa-calendar"></i>
                <span class="date">2017-12-04</span>
                &nbsp;&nbsp;
                <i class="fa fa-folder-open"></i>
                
                <a href="/category/%e8%bf%90%e7%bb%b4%e7%9f%a5%e8%af%86">运维知识</a>&nbsp;
                
                &nbsp;&nbsp;
                <i class="fa fa-tags"></i>
                
                <a href="/tag/Linux">Linux</a>&nbsp;
                

            </div>
        </div>
    </div>
</div>



            <div class="pagination">
                <ul class="clearfix">
                </ul>
            </div>
        </div>
    </div>
</div> 

<script src="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="http://cdn.bootcss.com/highlight.js/8.9.1/highlight.min.js"></script>
<script src="http://cdn.bootcss.com/highlight.js/8.9.1/languages/go.min.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        $('pre code').each(function(i, block) {
            hljs.highlightBlock(block);
        });
    });
</script>

</body>
</html>